<app-navbar>
  <input
    class="search-bar"
    type="text"
    placeholder="Search for a recipe..."
    #filter
    [formControl]="searchForm"
  />
</app-navbar>
<mat-sidenav-container>
  <mat-sidenav
    #sidenav
    [mode]="mobileMode() ? 'over' : 'side'"
    class="lhs"
    [opened]="!mobileMode()"
  >
    <app-recipes
      [recipeList]="isSearching() ? filteredList() : recipeList$()"
      [isLoading]="isLoading$()"
      [isError]="errorCode$()"
      [mobileMode]="mobileMode()"
      (deleteRecipeClicked)="onDeleteRecipe($event)"
    >
      <button
        matFab
        extended
        [routerLink]="['/recipes/add']"
        (click)="onAddClick()"
      >
        <mat-icon>add</mat-icon>
        Add
      </button>
    </app-recipes>
  </mat-sidenav>
  <mat-sidenav-content class="rhs">
    @if (mobileMode()) {
      <button matIconButton (click)="sidenav.toggle()">
        <mat-icon>menu</mat-icon>
      </button>
    }
    <router-outlet />
  </mat-sidenav-content>
</mat-sidenav-container>
